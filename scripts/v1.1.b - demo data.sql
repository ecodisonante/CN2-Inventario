-- =========================================================
-- Sistema Inventario - Oracle
-- Esquema de base de datos
--
-- IMPORTANTE:  Ejecutar este script solo si se esta actualizando
--              o creando una nueva base de datos.
--
-- v1.1.b - Datos de prueba
--          SOLO EJECUTAR DESPUES DE v1.1.a
-- =========================================================


------------------------------------------------------------
-- 0) Limpieza de datos previos (si es necesario)
------------------------------------------------------------
-- DELETE FROM STOCK_MOVEMENTS;
-- DELETE FROM RESERVATIONS;
-- DELETE FROM ORDER_LINES;
-- DELETE FROM ORDERS;
-- DELETE FROM STOCKS;
-- DELETE FROM PRODUCTS;
-- DELETE FROM WAREHOUSES;
-- DELETE FROM ORDER_STATUS;
-- DELETE FROM ORDER_TYPE;
-- DELETE FROM ORDER_LINE_STATUS;
-- DELETE FROM RESERVATION_STATUS;
-- DELETE FROM MOVEMENT_TYPE;
-- COMMIT;


------------------------------------------------------------
-- 1) Tablas parametricas
------------------------------------------------------------

-- ORDER_STATUS
INSERT INTO ORDER_STATUS (ID, CODE, DESCRIPTION) VALUES (1, 'DRAFT',     'Borrador');
INSERT INTO ORDER_STATUS (ID, CODE, DESCRIPTION) VALUES (2, 'CONFIRMED', 'Confirmada');
INSERT INTO ORDER_STATUS (ID, CODE, DESCRIPTION) VALUES (3, 'ALLOCATED', 'Con reservas');
INSERT INTO ORDER_STATUS (ID, CODE, DESCRIPTION) VALUES (4, 'SHIPPED',   'Despachada');
INSERT INTO ORDER_STATUS (ID, CODE, DESCRIPTION) VALUES (5, 'CLOSED',    'Cerrada');
INSERT INTO ORDER_STATUS (ID, CODE, DESCRIPTION) VALUES (6, 'CANCELED',  'Cancelada');


-- ORDER_TYPE
INSERT INTO ORDER_TYPE (ID, CODE, DESCRIPTION) VALUES (1, 'SALES',    'Venta a cliente');
INSERT INTO ORDER_TYPE (ID, CODE, DESCRIPTION) VALUES (2, 'PURCHASE', 'Compra a proveedor');
INSERT INTO ORDER_TYPE (ID, CODE, DESCRIPTION) VALUES (3, 'TRANSFER', 'Traslado interno');


-- ORDER_LINE_STATUS
INSERT INTO ORDER_LINE_STATUS (ID, CODE, DESCRIPTION) VALUES (1, 'PENDING',   'Pendiente');
INSERT INTO ORDER_LINE_STATUS (ID, CODE, DESCRIPTION) VALUES (2, 'RESERVED',  'Reservada');
INSERT INTO ORDER_LINE_STATUS (ID, CODE, DESCRIPTION) VALUES (3, 'SHIPPED',   'Despachada');
INSERT INTO ORDER_LINE_STATUS (ID, CODE, DESCRIPTION) VALUES (4, 'BACKORDER', 'Pendiente por falta de stock');
INSERT INTO ORDER_LINE_STATUS (ID, CODE, DESCRIPTION) VALUES (5, 'CANCELED',  'Cancelada');


-- RESERVATION_STATUS
INSERT INTO RESERVATION_STATUS (ID, CODE, DESCRIPTION) VALUES (1, 'OPEN',     'Vigente');
INSERT INTO RESERVATION_STATUS (ID, CODE, DESCRIPTION) VALUES (2, 'CONSUMED', 'Consumida en despacho');
INSERT INTO RESERVATION_STATUS (ID, CODE, DESCRIPTION) VALUES (3, 'CANCELED', 'Anulada');
INSERT INTO RESERVATION_STATUS (ID, CODE, DESCRIPTION) VALUES (4, 'EXPIRED',  'Expirada');


-- MOVEMENT_TYPE
INSERT INTO MOVEMENT_TYPE (ID, CODE, DESCRIPTION) VALUES (1, 'RECEIVE',      'Recepción/Entrada');
INSERT INTO MOVEMENT_TYPE (ID, CODE, DESCRIPTION) VALUES (2, 'SHIP',         'Despacho/Salida');
INSERT INTO MOVEMENT_TYPE (ID, CODE, DESCRIPTION) VALUES (3, 'ADJUST',       'Ajuste de inventario');
INSERT INTO MOVEMENT_TYPE (ID, CODE, DESCRIPTION) VALUES (4, 'TRANSFER_OUT', 'Salida a traslado');
INSERT INTO MOVEMENT_TYPE (ID, CODE, DESCRIPTION) VALUES (5, 'TRANSFER_IN',  'Entrada de traslado');


------------------------------------------------------------
-- 2) Bodegas
------------------------------------------------------------
INSERT INTO WAREHOUSES (ID, NAME, LOCATION, ENABLED, CREATED_AT)
VALUES (1, 'Bodega Central',   'Av. Providencia 1234, Santiago', 'S', SYSTIMESTAMP);

INSERT INTO WAREHOUSES (ID, NAME, LOCATION, ENABLED, CREATED_AT)
VALUES (2, 'Bodega Secundaria','Camino Industrial 456, Quilicura', 'S', SYSTIMESTAMP);


------------------------------------------------------------
-- 3) Productos
------------------------------------------------------------
INSERT INTO PRODUCTS (ID, SKU, NAME, CATEGORY, PRICE, ENABLED, WAREHOUSE_ID, CREATED_AT)
VALUES (101, 'KB-001', 'Teclado Mecánico RGB', 'Periféricos', 45990, 'S', 1, SYSTIMESTAMP);

INSERT INTO PRODUCTS (ID, SKU, NAME, CATEGORY, PRICE, ENABLED, WAREHOUSE_ID, CREATED_AT)
VALUES (102, 'MS-002', 'Mouse Inalámbrico Logitech', 'Periféricos', 22990, 'S', 1, SYSTIMESTAMP);

INSERT INTO PRODUCTS (ID, SKU, NAME, CATEGORY, PRICE, ENABLED, WAREHOUSE_ID, CREATED_AT)
VALUES (103, 'HD-003', 'Disco Duro Externo 1TB', 'Almacenamiento',55990, 'S', 1, SYSTIMESTAMP);

INSERT INTO PRODUCTS (ID, SKU, NAME, CATEGORY, PRICE, ENABLED, WAREHOUSE_ID, CREATED_AT)
VALUES (104, 'MN-004', 'Monitor LED 24"', 'Pantallas', 129990, 'S', 1, SYSTIMESTAMP);

INSERT INTO PRODUCTS (ID, SKU, NAME, CATEGORY, PRICE, ENABLED, WAREHOUSE_ID, CREATED_AT)
VALUES (201, 'LT-005', 'Notebook Lenovo i5 8GB RAM', 'Computadores', 459990, 'S', 2, SYSTIMESTAMP);

INSERT INTO PRODUCTS (ID, SKU, NAME, CATEGORY, PRICE, ENABLED, WAREHOUSE_ID, CREATED_AT)
VALUES (202, 'PR-006', 'Impresora Multifuncional HP', 'Impresoras', 89990, 'S', 2, SYSTIMESTAMP);

INSERT INTO PRODUCTS (ID, SKU, NAME, CATEGORY, PRICE, ENABLED, WAREHOUSE_ID, CREATED_AT)
VALUES (203, 'UP-007', 'UPS 1200VA Forza', 'Energía', 75990, 'S', 2, SYSTIMESTAMP);

INSERT INTO PRODUCTS (ID, SKU, NAME, CATEGORY, PRICE, ENABLED, WAREHOUSE_ID, CREATED_AT)
VALUES (204, 'RO-008', 'Router TP-Link WiFi 6', 'Redes', 65990, 'S', 2, SYSTIMESTAMP);


------------------------------------------------------------
-- 4) Stock
------------------------------------------------------------
-- Bodega 1
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (101, 1, 50, 5);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (102, 1, 80, 10);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (103, 1, 20, 0);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (104, 1, 15, 2);

-- Bodega 2
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (101, 2, 10, 0);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (103, 2, 30, 5);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (104, 2, 5,  0);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (201, 2, 12, 0);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (202, 2, 25, 3);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (203, 2, 7,  0);
INSERT INTO STOCKS (PRODUCT_ID, WAREHOUSE_ID, ON_HAND, RESERVED) VALUES (204, 2, 18, 1);
